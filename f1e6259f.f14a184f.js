(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{103:function(e,t,r){"use strict";var n=r(0),a=r.n(n),c=r(99),o=r(94),l=r(48),i=r.n(l),b=37,s=39;t.a=function(e){var t=e.block,r=e.children,l=e.defaultValue,u=e.values,p=e.groupId,d=Object(c.a)(),m=d.tabGroupChoices,O=d.setTabGroupChoices,f=Object(n.useState)(l),j=f[0],h=f[1],g=Object(n.useState)(!1),N=g[0],y=g[1];if(null!=p){var v=m[p];null!=v&&v!==j&&u.some((function(e){return e.value===v}))&&h(v)}var w=function(e){h(e),null!=p&&O(p,e)},T=[],C=function(e){e.metaKey||e.altKey||e.ctrlKey||y(!0)},x=function(){y(!1)};return Object(n.useEffect)((function(){window.addEventListener("keydown",C),window.addEventListener("mousedown",x)}),[]),a.a.createElement("div",null,a.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(o.a)("tabs",{"tabs--block":t})},u.map((function(e){var t=e.value,r=e.label;return a.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":j===t,className:Object(o.a)("tabs__item",i.a.tabItem,{"tabs__item--active":j===t}),style:N?{}:{outline:"none"},key:t,ref:function(e){return T.push(e)},onKeyDown:function(e){!function(e,t,r){switch(r.keyCode){case s:!function(e,t){var r=e.indexOf(t)+1;e[r]?e[r].focus():e[0].focus()}(e,t);break;case b:!function(e,t){var r=e.indexOf(t)-1;e[r]?e[r].focus():e[e.length-1].focus()}(e,t)}}(T,e.target,e),C(e)},onFocus:function(){return w(t)},onClick:function(){w(t),y(!1)},onPointerDown:function(){return y(!1)}},r)}))),a.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},n.Children.toArray(r).filter((function(e){return e.props.value===j}))[0]))}},104:function(e,t,r){"use strict";var n=r(0),a=r.n(n);t.a=function(e){return a.a.createElement("div",null,e.children)}},85:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return i})),r.d(t,"metadata",(function(){return b})),r.d(t,"rightToc",(function(){return s})),r.d(t,"default",(function(){return p}));var n=r(2),a=r(6),c=(r(0),r(92)),o=r(103),l=r(104),i={id:"flows.references",title:"References",sidebar_label:"References",slug:"/flows/references"},b={unversionedId:"flows.references",id:"flows.references",isDocsHomePage:!1,title:"References",description:"Template references",source:"@site/docs/flows-references.mdx",slug:"/flows/references",permalink:"/semaphore/docs/flows/references",editUrl:"https://github.com/jexia/semaphore/edit/master/website/docs/flows-references.mdx",version:"current",sidebar_label:"References",sidebar:"docs",previous:{title:"Getting started",permalink:"/semaphore/docs/flows"},next:{title:"Conditions",permalink:"/semaphore/docs/flows/conditions"}},s=[{value:"Template references",id:"template-references",children:[]},{value:"Resource properties",id:"resource-properties",children:[{value:"Properties in action",id:"properties-in-action",children:[]}]},{value:"Resource dependencies",id:"resource-dependencies",children:[]}],u={rightToc:s};function p(e){var t=e.components,r=Object(a.a)(e,["components"]);return Object(c.b)("wrapper",Object(n.a)({},u,r,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h2",{id:"template-references"},"Template references"),Object(c.b)("p",null,"Resources could contain references to other resources.\nThese references are defined inside templates.\nA template inside a property is initialized with two curly brackets ",Object(c.b)("inlineCode",{parentName:"p"},"{{ }}"),"."),Object(c.b)("p",null,"All references consist out of two parts.\nThe resource you want to reference, and the property path ",Object(c.b)("inlineCode",{parentName:"p"},"{{ <resource>:<path> }}"),".\nPaths reference a property within the resource.\nPaths could target single properties or entire objects."),Object(c.b)("h2",{id:"resource-properties"},"Resource properties"),Object(c.b)("p",null,"A template reference consist out of the following parts: ",Object(c.b)("inlineCode",{parentName:"p"},"<resource>:<path>"),".\nSome resources consist out of multiple resource properties.\nThe default resource property is used when no resource property is given.\nThe following resource properties are available for the variouse resources:"),Object(c.b)(o.a,{defaultValue:"input",values:[{label:"Input",value:"input"},{label:"Error",value:"error"},{label:"Resource",value:"resource"}],mdxType:"Tabs"},Object(c.b)(l.a,{value:"input",mdxType:"TabItem"},Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Parameter"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Template"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Note"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"request"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"{{ input.request:path }}")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("strong",{parentName:"td"},"default"))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"header"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"{{ input.header:path }}")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null})))))),Object(c.b)(l.a,{value:"error",mdxType:"TabItem"},Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Parameter"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Template"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Note"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"response"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"{{ error.response:path }}")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("strong",{parentName:"td"},"default"))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"params"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"{{ error.params:path }}")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null})))))),Object(c.b)(l.a,{value:"resource",mdxType:"TabItem"},Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Parameter"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Template"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Note"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"request"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"{{ resource.request:path }}")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"response"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"{{ resource.response:path }}")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("strong",{parentName:"td"},"default"))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"header"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"{{ resource.header:path }}")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"error"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"{{ resource.error:path }}")),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(c.b)("em",{parentName:"td"},"only self references"))))))),Object(c.b)("h3",{id:"properties-in-action"},"Properties in action"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),'flow "FetchUser" {\n  input "com.org.User" {\n    header = ["Authorization"]\n  }\n\n  error "com.org.Unexpected" {\n    trace = "{{ error.params:trace }}"\n    message = "{{ error:message }}"\n  }\n\n  resource "user" {\n    request "com.org.Users" "Single" {\n      id = "{{ input:id }}" // using the default parameter\n    }\n\n    on_error {\n      schema = "com.org.Unexpected"\n      message = "{{ user.error:message }}"\n      status = 500\n\n      params {\n        trace = "{{ user.error:trace }}"\n      }\n    }\n  }\n\n  output "com.org.User" {\n    full_name = "{{ user:bio.full_name }}"\n  }\n}\n')),Object(c.b)("h2",{id:"resource-dependencies"},"Resource dependencies"),Object(c.b)("p",null,"References automatically define dependencies across resources.\nSometimes do resources depend on one another without a direct reference.\nDependencies could manually be created through the ",Object(c.b)("inlineCode",{parentName:"p"},"depends_on")," property."),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-hcl"}),'resource "warehouse" {\n  request "com.org.Wharehouse" "Ship" {\n    product = "{{ input:product }}"\n  }\n}\n\nresource "log" {\n  depends_on = ["warehouse"]\n\n  request "com.org.Logger" "Append" {\n    message = "{{ input:message }}"\n  }\n}\n')))}p.isMDXComponent=!0},92:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return m}));var n=r(0),a=r.n(n);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var b=a.a.createContext({}),s=function(e){var t=a.a.useContext(b),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},u=function(e){var t=s(e.components);return a.a.createElement(b.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,c=e.originalType,o=e.parentName,b=i(e,["components","mdxType","originalType","parentName"]),u=s(r),d=n,m=u["".concat(o,".").concat(d)]||u[d]||p[d]||c;return r?a.a.createElement(m,l(l({ref:t},b),{},{components:r})):a.a.createElement(m,l({ref:t},b))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var c=r.length,o=new Array(c);o[0]=d;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var b=2;b<c;b++)o[b]=r[b];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},94:function(e,t,r){"use strict";function n(e){var t,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(a&&(a+=" "),a+=r);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.a=function(){for(var e,t,r=0,a="";r<arguments.length;)(e=arguments[r++])&&(t=n(e))&&(a&&(a+=" "),a+=t);return a}},98:function(e,t,r){"use strict";var n=r(0),a=Object(n.createContext)(void 0);t.a=a},99:function(e,t,r){"use strict";var n=r(0),a=r(98);t.a=function(){var e=Object(n.useContext)(a.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}}}]);